<!DOCTYPE html>
<html lang="ko">

<!--head.ejsíŒŒì¼ë¡œ ë‹¤ ì˜®ê²¨ë†¨ìŒ-->

<head>
    <%-include('head')%>
</head>

<body>
    <!-- ì™¸ë¶€ ë¸Œë¼ìš°ì € -->
    <script src="https://urlopen.link/direct.js"></script>
    <main id="root">
        <!-- <button id="cur-page" style="position:fixed; top:100px">Current Page</button> -->
        <!-- test check for submitting the test -->
        <script src="script/useCookies.js"></script>
        <div id="page-transition"></div>
        <div class="fixed-elem">
            <div class="logo" id="backToTop">
                <img src="pics/Logo.svg" alt="B-Free" />
            </div>
            <div class="translation">
                <ul class="translation-options">
                    <li class="translation-option" id="menu">
                        <svg width="57" height="40" viewBox="0 0 57 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle class="svg_comp" cx="5" cy="5" r="5" fill="#C4C4C4" />
                            <circle class="svg_comp" cx="5" cy="20" r="5" fill="#C4C4C4" />
                            <circle class="svg_comp" cx="5" cy="35" r="5" fill="#C4C4C4" />
                            <rect class="svg_comp" x="17" width="40" height="10" rx="5" fill="#C4C4C4" />
                            <rect class="svg_comp" x="17" y="15" width="40" height="10" rx="5" fill="#C4C4C4" />
                            <rect class="svg_comp" x="17" y="30" width="40" height="10" rx="5" fill="#C4C4C4" />
                        </svg>
                        <ul id="path-menu">
                            <li class="path" id="pathToTop">ë©”ì¸</li>
                            <li class="path" id="pathToBeforeTest">ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸</li>
                            <li class="path" id="pathToMiddle">ë” ì•Œì•„ë³´ê¸°</li>
                            <li class="path" id="pathToAfterTest">ë‘ ë²ˆì§¸ í…ŒìŠ¤íŠ¸</li>
                            <li class="path" id="pathToBottom">ê²°ê³¼</li>
                        </ul>
                    </li>
                    <li class="translation-option" id="kr">í•œêµ­ì–´</li>
                    <li class="translation-option" id="en">En</li>
                </ul>
            </div>
        </div>

        <script src="./script/translation.js"></script>
        <div class="main main_top" id="main_top">
            <div class="top">
                <div class="img_container">
                    <img class="main_image" id="firstImage" src="pics/Main1.jpg" alt="ë‘ ì‚¬ëŒì´ ë‚˜ë€íˆ ê°€ëŠ” ì‚¬ì§„">
                </div>
                <div class="text_container">
                    <div class="large-text">
                        <div class="main_text">
                            <span>Barrier-Free</span>
                        </div>
                        <div class="main_text">
                            <span>B-Free</span>
                        </div>
                    </div>
                    <div class="small-text">
                        <div class="sub_text">
                            <span>í¸ê²¬ê³¼ ì°¨ë³„ ì—†ëŠ” ë™ë“±í•œ ì„¸ìƒì„ ê¿ˆê¿‰ë‹ˆë‹¤.</span>
                        </div>
                    </div>
                </div>
                <div class="btn-container">
                    <button type="button" class="btn btn-lg custom-button" id="toBeforeTest">í…ŒìŠ¤íŠ¸
                        í•˜ëŸ¬ê°€ê¸°</button>
                </div>
            </div>
        </div>
        <script>
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            if (!isMobile) {
                gsap.timeline()
                    .from('body', { duration: 0.5 }) // for loading
                    .from('.large-text', { y: -100, opacity: 0, duration: 1 })
                    .from('.small-text', { y: -100, opacity: 0, duration: 1 });

            } else {
                const menuBtn = document.querySelector('svg');
                let menuBtnClick = false
                menuBtn.addEventListener('click', e => {
                    if (menuBtnClick) {
                        $('.svg_comp').css('fill', '#C4C4C4');
                        $('#path-menu').hide();
                    } else {
                        $('.svg_comp').css('fill', '#008B9F');
                    }
                    menuBtnClick = !menuBtnClick;
                })
            }
        </script>


        <!-- Before ì¸ì‹ê°œì„  í…ŒìŠ¤íŠ¸ div -->
        <div class="main before_test test">
            <%-include('beforeTest')%>
                <%-include('btResult')%>

        </div>
        <script>
            checkSubmitTest();
            // test-swiper
            const beforeTest = new Swiper('#before-test-container', {
                // Optional parameters
                direction: 'horizontal',
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                keyboard: {
                    enabled: true,
                    onlyInViewport: true,
                },
                threshold: 10
            })
        </script>

        <!-- ë©”ì¸ ì¤‘ë‹¨ -->
        <div class="main main_middle" id="main_middle">
            <div id="main_middle_container">
                <div class="img_comment"><span id="hide-comment" style="display: none; color: #008B9F">ëˆ„êµ¬ì—ê²Œë‚˜
                    </span>í‰ë²”í•œ ì¼ìƒì…ë‹ˆë‹¤.</div>
                <div class="carousel-container">
                    <div class="swiper-container" id="img-container">
                        <div id="carousel" class="swiper-wrapper">
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-1-1.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-2-1.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-3-1.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-4-1.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-1-2.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-2-2.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-3-2.jpg">
                            </div>
                            <div class="swiper-slide img-slide">
                                <img class="carousel_img" src="pics/carousel/carousel-4-2.jpg">
                            </div>
                        </div>
                        <div class="swiper-pagination"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </div>
                <div id="propose-passover">ì‚¬ì§„ì„ ì˜†ìœ¼ë¡œ ë„˜ê²¨ë³´ì„¸ìš”!ğŸ‘‰</div>

                <script>

                    const imgContainers = gsap.utils.toArray('.swiper-slide.img-slide');
                    imgContainers.forEach((img, i) => {
                        img.dataset.index = i + 1;
                    })
                    // swiper
                    const swiper = new Swiper('#img-container', {
                        // Optional parameters
                        direction: 'horizontal',
                        pagination: {
                            el: '.swiper-pagination',
                            clickable: true
                        },
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },
                        autoplay: {
                            delay: 5000,
                        },
                        threshold: 10,
                        on: {
                            slideChangeTransitionEnd: () => {
                                let active = document.querySelector('.swiper-slide.img-slide.swiper-slide-active').dataset.index <= 4
                                if (active) {
                                    gsap.set('#hide-comment', { duration: 0, display: 'none' });
                                } else {
                                    gsap.set('#hide-comment', { duration: 0, display: 'inline' });
                                }
                            }
                        }
                    })
                </script>


                <!-- The first statistics : the number of the people with disability -->
                <div class="overlay">
                    <div class="stat">
                        <div class="title">
                            <div class="number_container">
                                <div class="numbers">
                                    <span class="number">5</span><span class="percentage">%</span>
                                </div>
                            </div>
                            <div class="headline">
                                <div class="text1">
                                    20ëª… ì¤‘ 1ëª…
                                </div>
                                <div class="text2">
                                    2019ë…„ ë§ ê¸°ì¤€ ë“±ë¡ì¥ì• ì¸ 261ë§Œ 8000ëª…, ì „ì²´ ì¸êµ¬ ëŒ€ë¹„ 5.1%
                                </div>
                            </div>
                        </div>
                        <div class="pict_container">
                            <div class="pictogram">
                                <div class="hover_icon" id="hover_icon1">
                                    <div class="arrow"></div>
                                    <div class="background" data-index="1">
                                        <div class="color_box_hover">

                                        </div>
                                        <div class="label_hover">
                                            ì¥ì• ë¥¼ ê°€ì§„ ì‚¬ëŒ: 5.39%
                                        </div>
                                    </div>
                                </div>
                                <div class="hover_icon" id="hover_icon2">
                                    <div class="arrow"></div>
                                    <div class="background" data-index="2">
                                        <div class="color_box_hover">
                                        </div>
                                        <div class="label_hover">
                                            ì¥ì• ë¥¼ ê°€ì§€ì§€ ì•Šì€ ì‚¬ëŒ: 94.61%
                                        </div>
                                    </div>
                                </div>
                                <div class="pictogram_controls">
                                    <div class="control" data-index="1">
                                        <div class="color_box">

                                        </div>
                                        <div class="label">
                                            ì¥ì• ë¥¼ ê°€ì§„ ì‚¬ëŒ
                                        </div>
                                    </div>
                                    <div class="control" data-index="2">
                                        <div class="color_box">

                                        </div>
                                        <div class="label">
                                            ì¥ì• ë¥¼ ê°€ì§€ì§€ ì•Šì€ ì‚¬ëŒ
                                        </div>
                                    </div>
                                </div>
                                <div class="img_people">
                                    <img class="img_person img_person1" src="pics/human1.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                </div>
                                <div class="img_people">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                    <img class="img_person img_person2" src="pics/human2.svg" alt="ì‚¬ëŒ">
                                </div>
                            </div>
                        </div>
                        <div class="source">
                            <span>
                                ìë£Œ ì¶œì²˜ : 2017ë…„ ì¥ì• ì¸ ì‹¤íƒœì¡°ì‚¬
                            </span>
                        </div>
                        <div class="comment">
                            ìš°ë¦¬ ëª¨ë‘ í•¨ê»˜ ì‚´ì•„ê°€ê³  ìˆìŠµë‹ˆë‹¤. ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ê³  í•´ì„œ ì—†ë‹¤ê³  ìƒê°í•˜ëŠ” ê²ƒì€ í¸ê²¬ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>

                <!-- Second Statistic : the cause of the disability -->
                <div class="overlay">
                    <div class="stat">
                        <div class="title">
                            <div class="number_container">
                                <div class="numbers">
                                    <span class="number">9</span><span class="percentage">ëª…</span>
                                </div>
                            </div>
                            <div class="headline">
                                <div class="text1">
                                    10ëª… ì¤‘ 9ëª…
                                </div>
                                <div class="text2">
                                    ì¥ì•  ì›ì¸ ì¤‘, 88.1%ëŠ” í›„ì²œì  ì›ì¸
                                </div>
                            </div>
                        </div>
                        <div class="pict_container">
                            <div class="pictogram">
                                <canvas id="chart1"></canvas>
                                <script>
                                    let chart = new Chart(document.getElementById('chart1').getContext('2d'), getChartArguments()[0].chartConfig);
                                </script>
                            </div>
                        </div>
                        <div class="source">
                            <span>
                                ìë£Œ ì¶œì²˜ : 2017ë…„ ì¥ì• ì¸ ì‹¤íƒœì¡°ì‚¬
                            </span>
                        </div>
                        <div class="comment">
                            ì‚¬ê³ ë‚˜ ì§ˆí™˜ìœ¼ë¡œ ì¸í•œ í›„ì²œì  ì¥ì• ê°€ í›¨ì”¬ ë§ìŠµë‹ˆë‹¤. ëˆ„êµ¬ë‚˜ ì–¸ì œë“  ì¥ì• ë¥¼ ê°–ê²Œ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>

                <!-- The third statistics -->
                <div class="overlay">
                    <div class="stat">
                        <div class="title">
                            <div class="number_container">
                                <div class="numbers">
                                    <span class="number small">60.7</span><span class="percentage small">%</span>
                                </div>
                            </div>
                            <div class="headline">
                                <div class="text1">
                                    'ëª¨ë¥¸ë‹¤'ë¼ê³  ë‹µí•œ ë¹„ìœ¨, 60.7%
                                </div>
                                <div class="text2">
                                    <!-- 'ëª¨ë¥¸ë‹¤'ë¼ê³  ë‹µí•œ ë¹„ìœ¨, 60.7% -->
                                </div>
                            </div>
                        </div>
                        <div class="pict_container">
                            <div class="pictogram">
                                <canvas id="chart2"></canvas>
                                <script>
                                    let chart2 = new Chart(document.getElementById('chart2').getContext('2d'), chartArguments[1].chartConfig);
                                </script>
                            </div>
                        </div>
                        <div class="source">
                            <span>
                                ìë£Œ ì¶œì²˜ : 2017ë…„ ì¥ì• ì¸ ì‹¤íƒœì¡°ì‚¬
                            </span>
                        </div>
                        <div class="comment">
                            ì¥ì• ì¸ì°¨ë³„ê¸ˆì§€ë²•ì€ 2007ë…„ 4ì›” 10ì¼ì— ì œì •ë˜ì—ˆê³ , 2008ë…„ 4ì›” 11ì¼ë¶€í„° ì‹œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì•„ì§ë„ ì´ ë²•ì„ ì˜ ëª¨ë¥´ëŠ” ì‚¬ëŒë“¤ ë§ìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>

                <!-- The Fourth statistic -->
                <div class="overlay">
                    <div class="stat">
                        <div class="title">
                            <div class="number_container">
                                <div class="numbers">
                                    <span class="number small">48.9</span><span class="percentage small">%</span>
                                </div>
                            </div>
                            <div class="headline">
                                <div class="text1">
                                    15ê°œ ì¥ì• ìœ í˜• ì¤‘ ì§€ì²´ì¥ì• ì˜ ë¹„ìœ¨ 46.7%
                                </div>
                                <div class="text2">
                                    <!-- ì¥ì•  ìœ í˜•ë³„ ì¤‘ ì§€ì²´ ì¥ì• ì˜ êµ¬ì„±ë¹„, 48.9% -->
                                </div>
                            </div>
                        </div>
                        <div class="pict_container">
                            <div class="pictogram">
                                <canvas id="chart3"></canvas>
                                <script>
                                    let chart3 = new Chart(document.getElementById('chart3').getContext('2d'), chartArguments[2].chartConfig);
                                </script>
                            </div>
                        </div>
                        <div class="source">
                            <span>
                                ìë£Œ ì¶œì²˜ : 2019ë…„ ë“±ë¡ì¥ì• ì¸ í˜„í™©
                            </span>
                        </div>
                        <div class="comment">
                            ì¥ì• ì¸ë³µì§€ë²•ì— ì˜í•´ ì¥ì•  ìœ í˜•ì€ 15ê°€ì§€ë¡œ ë¶„ë¥˜(ì§€ì²´ì¥ì• , ë‡Œë³‘ë³€ì¥ì• , ì‹œê°ì¥ì• , ì²­ê°ì¥ì• , ì–¸ì–´ì¥ì• , ì•ˆë©´ì¥ì• , ì‹ ì¥ì¥ì• , ì‹¬ì¥ì¥ì• , í˜¸í¡ê¸°ì¥ì• , ê°„ì¥ì• ,
                            ì¥ë£¨/ìš”ë£¨ì¥ì• ,
                            ë‡Œì „ì¦ì¥ì• , ì§€ì ì¥ì• , ìíì„±ì¥ì• , ì •ì‹ ì¥ì• )ë©ë‹ˆë‹¤. ê°€ì¥ ë§ì€ ë¹„ìœ¨ì„ ì°¨ì§€í•˜ëŠ” ì¥ì•  ìœ í˜•ì€ â€˜ì§€ì²´ì¥ì• â€™ì…ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>

                <!-- The fifth statistic -->
                <div class="overlay">
                    <div class="stat">
                        <div class="title">
                            <div class="number_container">
                                <div class="numbers">
                                    <span class="number">15</span><span class="percentage">ë°°</span>
                                </div>
                            </div>
                            <div class="headline">
                                <div class="text1">
                                    ì •ì‹  ì¥ì• ì¸ì˜ ë²”ì£„ìœ¨, 0.08%
                                </div>
                                <div class="text2">
                                    <!-- ì •ì‹  ì¥ì• ì¸ì˜ ë²”ì£„ìœ¨, 0.08% -->
                                </div>
                            </div>
                        </div>
                        <div class="pict_container">
                            <div class="pictogram">
                                <canvas id="chart4"></canvas>
                                <script>
                                    let chart4 = new Chart(document.getElementById('chart4').getContext('2d'), chartArguments[3].chartConfig);
                                </script>
                            </div>
                        </div>
                        <div class="source">
                            <span>
                                ìë£Œ ì¶œì²˜ : 2017ë…„ ëŒ€ê²€ì°°ì²­ ë²”ì£„ë¶„ì„ ë³´ê³ ì„œ
                            </span>
                        </div>
                        <div class="comment">
                            í†µê³„ì ìœ¼ë¡œ ë¹„ì¥ì• ì¸ì˜ ë²”ì£„ìœ¨ì´ ì •ì‹ ì¥ì• ì¸ì˜ ë²”ì£„ìœ¨ë³´ë‹¤ 15ë°° ë†’ë‹¤ê³  ì¡°ì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¥ì• ê°€ ë²”ì£„ì˜ ì›ì¸ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                        </div>
                    </div>
                </div>

                <div class="btn-container" id="btn-after-test">
                    <button type="button" class="btn btn-lg" id="toAfterTest">í…ŒìŠ¤íŠ¸ ë³´ëŸ¬ê°€ê¸°</button>
                </div>

                <div class="video-comment">
                    ì˜ìƒìœ¼ë¡œ ë” ì•Œì•„ë³´ê¸°
                </div>

                <!-- íšŒì „ì´ˆë°¥ div -->
                <div class="owl-carousel owl-theme owl-loaded">
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=CdFqM5fekqI" target="_blank">
                            <img src="https://img.youtube.com/vi/CdFqM5fekqI/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ì œ1íšŒ í•œêµ­ìˆ˜ì–´ì˜ ë‚ </span>
                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=XN2OC9UVVuA" target="_blank">
                            <img src="https://img.youtube.com/vi/XN2OC9UVVuA/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ì¥ì•  ëŒ€í•™ìƒì´ ë™ê¸°&êµìˆ˜ë‹˜ í•œí…Œ ì§„ì‹¬ìœ¼ë¡œ ì„œìš´í•  ë•Œ</span>
                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=LS4WS7V0Y_A" target="_blank">
                            <img src="https://img.youtube.com/vi/LS4WS7V0Y_A/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ë“¤ë¦¬ì§€ ì•Šì•„ë„ ë©, ëŒ„ìŠ¤, ë…¸ë˜<br> ë‹¤ í•  ìˆ˜ ìˆì–´ìš”. <br>ì²­ê°ì¥ì•  í•¸ë””ë˜í¼ ê¹€ì§€ì—°</span>

                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=MCZqR2VCP28" target="_blank">
                            <img src="https://img.youtube.com/vi/MCZqR2VCP28/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ì¹¨ë¬µ ì†ì— ì¶¤ì„ ì¶”ëŠ” <br> ì²­ê° ì¥ì•  ë°œë ˆë¦¬ë‚˜ ê³ ì•„ë¼</span>

                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=REpjJyKifms" target="_blank">
                            <img src="https://img.youtube.com/vi/REpjJyKifms/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ì²œë§Œ ì¡°íšŒìˆ˜ ê¸°ë¡í•œ <br> 'ì¡°ìš©í•œ íƒì‹œ'...ë¹„ë¨¸ë„ íƒ€ë´¤ìŠµë‹ˆë‹¤</span>

                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=5gc4y9ExmHw" target="_blank">
                            <img src="https://img.youtube.com/vi/5gc4y9ExmHw/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ì œ40íšŒ ì¥ì• ì¸ì˜ ë‚  ê¸°ë… ë™ì˜ìƒ</span>

                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=kJrRzI0Tm80" target="_blank">
                            <img src="https://img.youtube.com/vi/kJrRzI0Tm80/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ì‹œì²­ê°ì¥ì• ì¸ì‹ê°œì„  <br> ìº í˜ì¸ í™ë³´ì˜ìƒ</span>

                    </div>
                    <div class="item">
                        <a href="https://www.youtube.com/watch?v=6KER4bgyozg" target="_blank">
                            <img src="https://img.youtube.com/vi/6KER4bgyozg/maxresdefault.jpg"></a>
                        <span class="tooltiptext">ğŸ˜§ ë‡Œì„±ë§ˆë¹„ ì¥ì• ì¸ê³¼ <br> ì¹œêµ¬ê°€ ë  ìˆ˜ ìˆì„ê¹Œ?</span>

                    </div>
                </div>

                <script src="./owlcarousel/owl.carousel.min.js"></script>
                <script type="text/javascript">
                    var owl = $('.owl-carousel');
                    owl.owlCarousel({
                        items: 4,
                        loop: true,
                        margin: 10,
                        video: true,
                        autoplay: true,
                        autoplayTimeout: 3000,
                        autoplayHoverPause: true
                    });
                    $('.owl-carousel').owlCarousel();
                </script>
                <style>
                    .owl-carousel .owl-stage-outer {
                        overflow: visible;
                    }

                    .item .tooltiptext {
                        background-color: rgba(0, 0, 0, 0.7);
                    }
                </style>

            </div>
            <script>
                gsap.registerPlugin(ScrollTrigger);
                let overlay = gsap.utils.toArray('.overlay');
                overlay.forEach((ol, i) => {
                    ol.dataset.colorIndex = i;
                    if (!isMobile) {
                        gsap.from(ol, {
                            scrollTrigger: {
                                trigger: ol,
                                toggleActions: 'play reset play reset',
                                scroller: '.main_middle'
                            },
                            x: 50 * Math.pow(-1, i),
                            duration: 0.7
                        })
                    }
                })
            </script>
        </div>


        <!-- After ì¸ì‹ê°œì„  í…ŒìŠ¤íŠ¸ div -->
        <div class="main after_test test">
            <%-include('afterTest')%>
                <%-include('atResult')%>

        </div>

        <script>
            checkSubmitTest();
            // test-swiper
            const afterTest = new Swiper('#after-test-container', {
                // Optional parameters
                direction: 'horizontal',
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                keyboard: {
                    enabled: true,
                    onlyInViewport: true,
                },
                threshold: 10
            })
        </script>


        <div class="main main_bottom" id="main_bottom">
            <div class="chart-comment-container" id="score-comment-container">
                <div class="chart-comment" id="first-score-comment">ğŸ™Œì‚¬ìš©ìë‹˜ì€</div>
                <div class="own-score chart-comment" id="before-own-score">
                    <div class="test-first-score-comment" id="before-first-score-comment">ì²« ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì—ì„œ</div>
                    <div class="test-second-score-comment" id="before-second-score-comment">
                        <span class="total-count">7</span>ê°œ ì¤‘
                        <span class="correct-count" style="color: rgba(255, 206, 86, 1)">
                            <% if(BeforeScore) {%>
                                <%=BeforeScore%>
                                    <% } %>
                        </span>ê°œë¥¼
                    </div>
                </div>
                <div class="own-score chart-comment" id="after-own-score">
                    <div class="test-first-score-comment" id="after-first-score-comment">ë‘ ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì—ì„œ</div>
                    <div class="test-second-score-comment" id="after-second-score-comment">
                        <span class="total-count">7</span>ê°œ ì¤‘
                        <span class="correct-count" style="color: rgba(54, 162, 235, 1)">
                            <% if(AfterScore) {%>
                                <%=AfterScore%>
                                    <% } %>
                        </span>ê°œë¥¼
                    </div>
                </div>
                <div class="chart-comment" id="last-score-comment">ë§íˆì…¨ìŠµë‹ˆë‹¤!</div>
            </div>

            <div class="chart-comment-container" id="propose-comment">
                ë‹¤ë¥¸ ì‚¬ìš©ìë¶„ë“¤ì˜ ê²°ê³¼ë„ í™•ì¸í•´ë³´ì„¸ìš”!
            </div>
            <div class="score-chart-container">
                <div class="score-chart" id="first-chart">
                    <div class="inside-container">
                        <div class="chart-title">
                            ì¸ì‹ê°œì„  í…ŒìŠ¤íŠ¸ ì ìˆ˜ ë¶„í¬
                        </div>
                        <div class="compareChart" id="beforeCompareChart">
                            <canvas id="beforeChart">
                                <p>Feedback Chart1-1</p>
                            </canvas>
                        </div>
                    </div>
                    <div class="chart-desc" id="first-chart-desc">
                        <div class="chart-desc-comment">
                            <div class="chart-desc-div first-chart-desc">
                                íŒŒë€ ìƒ‰ ì„ ì´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë” ì¹˜ìš°ì³ì ¸ ìˆì„ ìˆ˜ë¡ <br>
                                ë‘ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì—ì„œ ë” ì¢‹ì€ ê²°ê³¼ê°€ ë§ì´ ë‚˜ì˜¨ ê²ƒì„ ì˜ë¯¸í•´ìš”!
                            </div>
                            <div class="chart-desc-div first-chart-desc">
                                ì ìˆ˜ ë¶„í¬ ê·¸ë˜í”„ë¥¼ í†µí•´ ë‹¤ë¥¸ ì‚¬ìš©ì ë¶„ë“¤ì˜ <br>
                                ì¸ì‹ ê°œì„  ì„œë¹„ìŠ¤ ì´ìš© ì „ í›„, í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ë¹„êµí•´ë³´ì„¸ìš”!
                            </div>
                        </div>
                    </div>
                </div>
                <div class="score-chart" id="second-chart">
                    <div class="inside-container">
                        <div class="chart-title">
                            ì¸ì‹ ê°œì„  ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•œ ë’¤ì˜ ì ìˆ˜ ë³€í™” ë¹„ìœ¨
                        </div>
                        <div class="compareChart" id="increaseCompareChart">
                            <canvas id="increaseChart">
                                <p>Feedback Chart2</p>
                            </canvas>
                        </div>
                    </div>
                    <div class="chart-desc" id="second-chart-desc">
                        <div class="chart-desc-comment">
                            <div class="chart-desc-div second-chart-desc">
                                ì´ˆë¡ìƒ‰ ë¶€ë¶„ì´ ë” í´ìˆ˜ë¡ ë‘ë²ˆì§¸ í…ŒìŠ¤íŠ¸ì—ì„œ <br>
                                ì ìˆ˜ê°€ ìƒìŠ¹í•œ ì‚¬ëŒì´ ë§ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•´ìš”!
                            </div>
                            <div class="chart-desc-div second-chart-desc">
                                ì ìˆ˜ ë³€í™” ë¹„ìœ¨ ê·¸ë˜í”„ë¥¼ í†µí•´ ì ìˆ˜ê°€ ìƒìŠ¹í•œ <br>
                                ì‚¬ìš©ìë¶„ë“¤ì„ í™•ì¸í•´ ë³´ì„¸ìš”!
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- footer -->
            <footer class="ref-container">
                <hr>
                <ul>
                    <li>photos <a target="_blank" href="https://www.freepik.com/photos/business">carousel-1 | </a>
                    <a target="_blank" href="https://www.freepik.com/photos/health">carousel-2 | </a>
                    <a target="_blank" href="https://unsplash.com/@elevatebeer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">carousel-3 | </a>
                    <a target="_blank" href="https://www.freepik.com/photos/love">carousel-4 </a></li>
                    <li>about <a target="_blank" href="https://www.facebook.com/dschufs/">DSC | </a>
                        <a target="_blank" href="https://github.com/DSCHUFS/Solution_Challenge_WSC"> github </a></li>
                    <li>Copyright 2021 <a href="https://b-freeproject.df.r.appspot.com/"> B-Free. </a> All rights reserved</li>
                </li>
                </ul><hr>
            </footer>
        </div>

        
    </main>


    <script src="./script/chartUtil.js"></script>
    <script src="./script/pageTransition.js"></script>
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    <script type="text/javascript">
        afterSubmitPageTransition();

        function checkOnlyOne(element) { //ì²´í¬ë°•ìŠ¤ í•œ ê°œë§Œ ì„ íƒë˜ë„ë¡ í•˜ëŠ” í•¨ìˆ˜
            var formN = element.name;
            var checkboxes = document.getElementsByName(formN);
            checkboxes.forEach((cb) => {
                cb.checked = false;
            })
            element.checked = true;
            // console.log(element.value);
        }

        //before test form ì œì¶œ ì‹œ, í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
        function submitBefore() {
            $('#before-test-container').hide();
            $('#beforeResult').show();

            //serialize: form íƒœê·¸ë‚´ì˜ í•­ëª©ë“¤ì„ ìë™ìœ¼ë¡œ ì½ì–´ì™€ queryString í˜•ì‹ìœ¼ë¡œ ë³€í™˜
            var queryString = $("form[name=before]").serialize();
            $.ajax({
                type: 'post',
                url: '/before',
                data: queryString,
                dataType: 'json',
                success: function () {
                    alert("ì •ìƒì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!");
                    location.reload();
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }

        //after test form ì œì¶œ ì‹œ, í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
        function submitAfter() {
            $('#after-test-container').hide();
            $('#afterResult').show();

            var queryString = $("form[name=after]").serialize();
            $.ajax({
                type: 'post',
                url: '/after',
                data: queryString,
                dataType: 'json',
                success: function () {
                    alert("ì •ìƒì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!");
                    location.reload();
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }
       //test ë‹¤ì‹œë³´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ, í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
        function testAgain() {
            // $('#after-test-container').show();
            // $('#afterResult').hide();
        }
    </script>

    <!-- socket communication -->
    <!-- socket.io -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var count;
        var score;
        var socket = io();

        //after í…ŒìŠ¤íŠ¸ë¥¼ ì •ìƒì ìœ¼ë¡œ ì œì¶œí•œ ê²½ìš°
        socket.on('completeAfter', function (result) {
            console.log(result);
            count = result.Count.count;
            score = result.Score;

            //updateëœ db data ë°›ì•„, feedback chartì— ë°˜ì˜
            var beforeCtx = document.getElementById('beforeChart').getContext('2d');
            var increaseCtx = document.getElementById('increaseChart').getContext('2d');
            var beforeChart = new Chart(beforeCtx, getChart(score, count)[0]);
            var increaseChart = new Chart(increaseCtx, getChart(score, count)[1]);
        });

        function getChart(score, count) {
            return [
                {
                    type: 'line',
                    data: {
                        labels: [0, 1, 2, 3, 4, 5, 6, 7],
                        datasets: [{
                            label: 'ì ìˆ˜ ë¶„í¬ - ì„œë¹„ìŠ¤ ì´ìš© ì „',
                            data: [score.b0, score.b1, score.b2, score.b3, score.b4, score.b5, score.b6, score.b7],
                            backgroundColor: 'rgba(255, 206, 86, 0.7)',
                            borderColor: 'rgba(255, 206, 86, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'ì ìˆ˜ ë¶„í¬ - ì„œë¹„ìŠ¤ ì´ìš© í›„',
                            data: [score.a0, score.a1, score.a2, score.a3, score.a4, score.a5, score.a6, score.a7],
                            backgroundColor: 'rgba(54, 162, 235, 0.7)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        },
                        legend: {
                            position: 'top',
                            onHover: () => { document.getElementById("beforeChart").style.cursor = 'pointer' },
                            onLeave: () => { document.getElementById("beforeChart").style.cursor = 'default' }
                        },
                        animation: {
                            duration: 1500
                        }
                    }
                },

                {
                    type: 'pie',
                    data: {
                        labels: ["ì ìˆ˜ ìƒìŠ¹", "ì ìˆ˜ í•˜ë½"],
                        datasets: [{
                            label: 'ì„œë¹„ìŠ¤ ì´ìš© í›„, ì ìˆ˜ ë³€í™” ì—¬ë¶€',
                            data: [score.increase, (count - score.increase)],
                            backgroundColor: [
                                "#48C9B0", "#E5E7E9"
                            ]
                        }]
                    },
                    options: {
                        legend: {
                            position: 'left',
                            onHover: () => { document.getElementById("increaseChart").style.cursor = 'pointer' },
                            onLeave: () => { document.getElementById("increaseChart").style.cursor = 'default' }
                        },
                        ticks: {
                            display: false
                        },
                        animation: {
                            duration: 2000
                        },
                        gridLines: {
                            display: true,
                            drawTicks: false
                        }
                    }
                }
            ]
        }

        //main bottomì—ì„œ ìƒˆë¡œê³ ì¹¨ ì‹œ, ì„œë²„ì—ì„œ ë„˜ê²¨ì¤€ db dataë¡œ chart ìƒì„±
        $(function () {
            var Count = JSON.parse('<%-JSON.stringify(Count)%>');
            var Score = JSON.parse('<%-JSON.stringify(Score)%>');
            //feedback chart
            var beforeCtx = document.getElementById('beforeChart').getContext('2d');
            var increaseCtx = document.getElementById('increaseChart').getContext('2d');
            var beforeChart = new Chart(beforeCtx, getChart(Score, Count.count)[0]);
            var increaseChart = new Chart(increaseCtx, getChart(Score, Count.count)[1]);
        });
    </script>

</body>

</html>