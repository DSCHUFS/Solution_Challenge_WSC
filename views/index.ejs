<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="pics/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="pics/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="pics/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="pics/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="pics/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="pics/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="pics/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="pics/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="pics/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="pics/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="pics/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="pics/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="pics/favicon/favicon-16x16.png">
    <link rel="manifest" href="pics/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="pics/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <!-- carousel -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.5.0/swiper-bundle.css"
        integrity="sha512-zamNaJKO5w/Mas6MRe/0y1k2iI0oBLkU/z4yXcXSuAiOEBYqahjU6uOWq3r5z491YZexyUbPOrQKMpaAS8PI+w=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.5.0/swiper-bundle.min.css"
        integrity="sha512-T9Nrm9JU37BvYFgjYGVYc8EGnpd3nPDz/NY19X6gsNjb0VHorik8KDBljLHvqWdqz9igNqTBvZY4oCJQer4Xtg=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="./owlcarousel/owl.carousel.min.css">
    <link rel="stylesheet" href="./owlcarousel/owl.theme.default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.5.0/swiper-bundle.min.js"
        integrity="sha512-VfcksjYXPZW36rsAGxeRGdB0Kp/htJF9jY5nlofHtRtswIB+scY9sbCJ5FdpdqceRRkpFfHZ3a9AHuoL4zjG5Q=="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/6.5.0/swiper-bundle.min.js"
        integrity="sha512-VfcksjYXPZW36rsAGxeRGdB0Kp/htJF9jY5nlofHtRtswIB+scY9sbCJ5FdpdqceRRkpFfHZ3a9AHuoL4zjG5Q=="
        crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/5b83e74e73.js"></script>
    <!-- jQuery -->
    <script src="./script/jquery.min.js"></script>
    <!--BootSTrapCDN-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <!-- custom css -->
    <link rel="stylesheet" href="style.css">
    <!-- custom script -->
    <script src="./script/chartArguments.js"></script>
    <!-- chart js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"
        integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw=="
        crossorigin="anonymous"></script>
    <!-- animation: greensock -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"
        integrity="sha512-1dalHDkG9EtcOmCnoCjiwQ/HEB5SDNqw8d4G2MKoNwjiwMNeBAkudsBCmSlMnXdsH8Bm0mOd3tl/6nL5y0bMaQ=="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"
        integrity="sha512-QcYm1q7RbnXmwY7HJ0H7938IS0MalTPYqGUF0fIwQgEjMBt2tqjDBt+R5I+ppdwEohjMdHnFU0H+RxmrGQ8qcg=="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollToPlugin.min.js"
        integrity="sha512-9DDJWj17gkdeGHU0Zr76wc9jY2g0IwE7ZCIxakVYKyzlTiOWZDZJOTaVgAzNo+LB7+EbGXxwCXkOP+a5rgkuqQ=="
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
    <title>Solution Challenge</title>
</head>

<body>
    <!-- test check for submitting the test -->
    <script src="script/useCookies.js"></script>
    <div id="page-transition"></div>
    <div class="fixed-elem">
        <div class="logo" id="backToTop">
            <img src="pics/Logo.svg" alt="B-Free" />
        </div>
        <div class="translation">
            <ul class="translation-options">
                <li class="translation-option" id="menu">
                    <svg width="57" height="40" viewBox="0 0 57 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle class="svg_comp" cx="5" cy="5" r="5" fill="#C4C4C4" />
                        <circle class="svg_comp" cx="5" cy="20" r="5" fill="#C4C4C4" />
                        <circle class="svg_comp" cx="5" cy="35" r="5" fill="#C4C4C4" />
                        <rect class="svg_comp" x="17" width="40" height="10" rx="5" fill="#C4C4C4" />
                        <rect class="svg_comp" x="17" y="15" width="40" height="10" rx="5" fill="#C4C4C4" />
                        <rect class="svg_comp" x="17" y="30" width="40" height="10" rx="5" fill="#C4C4C4" />
                    </svg>
                    <ul id="path-menu">
                        <li class="path" id="toTop">메인</li>
                        <li class="path" id="toMiddle">더 알아보기</li>
                        <li class="path" id="toBottom">결과</li>
                    </ul>
                </li>
                <li class="translation-option" id="kr">한국어</li>
                <li class="translation-option" id="en">En</li>
            </ul>
        </div>
    </div>
    <script src="./script/translation.js"></script>
    <div class="main main_top" id="main_top">
        <div class="top">
            <div class="img_container">
                <img class="main_image" id="firstImage" src="pics/Main1.jpg" alt="두 사람이 나란히 가는 사진">
            </div>
            <div class="text_container">
                <div class="large-text">
                    <div class="main_text">
                        <span>Barrier-Free</span>
                    </div>
                    <div class="main_text">
                        <span>B-Free</span>
                    </div>
                </div>
                <div class="small-text">
                    <div class="sub_text">
                        <span>편견과 차별 없는 동등한 세상을 꿈꿉니다.</span>
                    </div>
                </div>
            </div>
            <div class="btn-container">
                <button type="button" class="btn btn-lg custom-button" id="toBeforeTest">테스트
                    하러가기</button>
            </div>
        </div>
    </div>
    <script>
        gsap.timeline()
            .from('body', { duration: 0.5 }) // for loading
            .from('.large-text', { y: -100, opacity: 0, duration: 1 })
            .from('.small-text', { y: -100, opacity: 0, duration: 1 })
    </script>


    <!-- 인식개선 테스트 div -->
    <div class="main before_test test">
        <div>
            <div class="swiper-container test-container" id="before-test-container">
                <form name="before" class="swiper-wrapper">
                    <div class="Q1 swiper-slide question-slide">
                        <div class="question-container">
                            <h3>Question #1</h3>
                            <span>정답을 골라보세요.</span>
                            <div class="QS">
                                장애를 가진 사람이라는 의미의<br>단어로서 옳은 표현은 무엇일까요?
                            </div>
                            <input type="checkbox" name="answer1" value="장애자" onclick='checkOnlyOne(this)'
                                id="before-1-1"><label for="before-1-1"> 장애자</label>
                            <input type="checkbox" name="answer1" value="장애인" onclick='checkOnlyOne(this)'
                                id="before-1-2"><label for="before-1-2"> 장애인</label>
                            <input type="checkbox" name="answer1" value="장애우" onclick='checkOnlyOne(this)'
                                id="before-1-3"><label for="before-1-3"> 장애우</label>
                            <input type="checkbox" name="answer1" value="불구자" onclick='checkOnlyOne(this)'
                                id="before-1-4"><label for="before-1-4"> 불구자</label>
                        </div>
                    </div>
    
                    <div class="Q2 swiper-slide question-slide">
                        <div class="question-container">
                            <h3>Question #2</h3>
                            <span>정답을 골라보세요.</span>
                            <div class="QS">
                                대한민국 전체인구 중 장애인의<br>비율은 몇 %일까요?
                            </div>
                            <input type="checkbox" name="answer2" value="1.5%" onclick='checkOnlyOne(this)'
                                id="before-2-1"><label for="before-2-1"> 1.5 %</label>
                            <input type="checkbox" name="answer2" value="3%" onclick='checkOnlyOne(this)'
                                id="before-2-2"><label for="before-2-2"> 3 %</label>
                            <input type="checkbox" name="answer2" value="5%" onclick='checkOnlyOne(this)'
                                id="before-2-3"><label for="before-2-3"> 5 %</label>
                            <input type="checkbox" name="answer2" value="9%" onclick='checkOnlyOne(this)'
                                id="before-2-4"><label for="before-2-4"> 9 %</label>
                            <input type="checkbox" name="answer2" value="11%" onclick='checkOnlyOne(this)'
                                id="before-2-5"><label for="before-2-5">11 %</label>
                        </div>
                    </div>
    
                    <div class="Q3 swiper-slide question-slide">
                        <div class="question-container">
                            <h3>Question #3</h3>
                            <span>정답을 골라보세요.</span>
                            <div class="QS">
                                우리나라의 전체 장애인 중,<br>사고나 질환 등의 후천적인 원인으로<br>
                                장애가 발생한 비율은 10명 중,<br> "?"명 꼴입니다.
                            </div>
                            <label for="before-3-1"><input type="checkbox" name="answer3" value="2"
                                    onclick='checkOnlyOne(this)' id="before-3-1"> 2 명</label>
                            <label for="before-3-2"><input type="checkbox" name="answer3" value="4"
                                    onclick='checkOnlyOne(this)' id="before-3-2"> 4 명</label>
                            <label for="before-3-3"><input type="checkbox" name="answer3" value="6"
                                    onclick='checkOnlyOne(this)' id="before-3-3"> 6 명</label>
                            <label for="before-3-4"><input type="checkbox" name="answer3" value="8"
                                    onclick='checkOnlyOne(this)' id="before-3-4"> 8 명</label>
                            <label for="before-3-5"><input type="checkbox" name="answer3" value="9"
                                    onclick='checkOnlyOne(this)' id="before-3-5"> 9 명</label>
                        </div>
                    </div>
    
                    <div class="Q4 swiper-slide question-slide">
                        <div class="question-container">
                            <h3>Question #4</h3>
                            <span>O / X 문제입니다.</span>
                            <div class="QS">
                                뇌병변 장애인은 지능이 낮다.
                            </div>
                            <label for="before-4-1"><input type="checkbox" name="answer4" value="O"
                                    onclick='checkOnlyOne(this)' id="before-4-1"> O </label>
                            <label for="before-4-2"><input type="checkbox" name="answer4" value="X"
                                    onclick='checkOnlyOne(this)' id="before-4-2"> X </label>
                        </div>
                    </div>
    
                    <div class="Q5 swiper-slide question-slide">
                        <div class="question-container">
                            <h3>Question #5</h3>
                            <span>정답을 골라보세요.</span>
                            <div class="QS">
                                우리나라에 등록된 장애 유형 중<br>가장 높은 비율을 차지하고 있는<br>
                                유형은 무엇일까요?
                            </div>
                            <label for="before-5-1"><input type="checkbox" name="answer5" value="지체장애"
                                    onclick='checkOnlyOne(this)' id="before-5-1"> 지체장애</label>
                            <label for="before-5-2"><input type="checkbox" name="answer5" value="시각장애"
                                    onclick='checkOnlyOne(this)' id="before-5-2"> 시각장애</label>
                            <label for="before-5-3"><input type="checkbox" name="answer5" value="심장장애"
                                    onclick='checkOnlyOne(this)' id="before-5-3"> 심장장애</label>
                            <label for="before-5-4"><input type="checkbox" name="answer5" value="지적장애"
                                    onclick='checkOnlyOne(this)' id="before-5-4"> 지적장애</label>
                        </div>
                    </div>
    
                    <div class="Q6 swiper-slide question-slide">
                        <div class="question-container">
                            <h3>Question #6</h3>
                            <span>정답을 골라보세요.</span>
                            <div class="QS">
                                장애인 차별 금지법은<br>
                                언제 제정되었을까요?
    
                            </div>
                            <label for="before-6-1"><input type="checkbox" name="answer6" value="1988"
                                    onclick='checkOnlyOne(this)' id="before-6-1"> 1988년</label>
                            <label for="before-6-2"><input type="checkbox" name="answer6" value="2002"
                                    onclick='checkOnlyOne(this)' id="before-6-2"> 2007년</label>
                            <label for="before-6-3"><input type="checkbox" name="answer6" value="2011"
                                    onclick='checkOnlyOne(this)' id="before-6-3"> 2016년</label>
                            <label for="before-6-4"><input type="checkbox" name="answer6" value="2017"
                                    onclick='checkOnlyOne(this)' id="before-6-4"> 2008년</label>
                        </div>
                    </div>
    
                    <div class="Q7 swiper-slide question-slide" id="Q7">
                        <div class="question-container">
                            <h3>Question #7</h3>
                            <span>O / X 문제입니다.</span>
                            <div class="QS">
                                정신장애인은 범죄자가 될 확률이 높다.
                            </div>
    
                            <label for="before-7-1"><input type="checkbox" name="answer7" value="O"
                                    onclick='checkOnlyOne(this)' id="before-7-1"> O </label>
                            <label for="before-7-2"><input type="checkbox" name="answer7" value="X"
                                    onclick='checkOnlyOne(this)' id="before-7-2"> X </label>
                            <button type="button" class="btn btn-submit btn-lg" id="submitBeforeTest"
                                onclick="submitBefore()">제출하기</button>
    
                        </div>
                    </div>
    
                </form>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
    
            <div class="result-container" id="beforeResult">
                <div class="swiper-slide question-slide result">
                    <div class="question-container">
                        <h3>Result</h3>
                        <span>테스트 결과입니다. 몰랐던 것을 더 알아가보는 시간을 가져보아요.</span>
                        <div class="QS">
                            틀린 문제 : <br>
                            <script>
                                var wrongBefore = [0, 0, 0, 0, 0, 0, 0];
                                var len = 0; 
                            </script>
                            <%if(WrongBefore){%>
                                <% for(var i=0; i<WrongBefore.length; i++){ %>
                                    <% if(WrongBefore[i] == 1){ %>
                                        <%=WrongBefore[i]%>번<br>
                                        <p>해당 문제의 해답은 ~~에서 찾아볼 수 있습니다.</p>
                                    <% } %>
                                <% } %>
                            <%}%>
                        </div>
                        <button type="button" class="btn btn-submit btn-lg" id="transTomainMiddle">더 알아보기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        checkSubmitTest();
        // test-swiper
        const beforeTest = new Swiper('#before-test-container', {
            // Optional parameters
            direction: 'horizontal',
            pagination: {
                el: '.swiper-pagination',
                clickable: true
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            keyboard: {
                enabled: true,
                onlyInViewport: true,
            },
            threshold: 10
        })
    </script>

    <!-- 메인 중단 -->
    <div class="main main_middle" id="main_middle">
        <div id="main_middle_container">
            <div class="carousel-container">
                <div class="swiper-container" id="img-container">
                    <div class="img_comment">누구에게나 평범한 일상입니다.</div>
                    <div id="carousel" class="swiper-wrapper">
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-1-1.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-2-1.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-3-1.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-4-1.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-1-2.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-2-2.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-3-2.jpg">
                        </div>
                        <div class="swiper-slide img-slide">
                            <img class="carousel_img" src="pics/carousel/carousel-4-2.jpg">
                        </div>
                    </div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>
            </div>

            <script>
                // swiper
                const swiper = new Swiper('#img-container', {
                    // Optional parameters
                    direction: 'horizontal',
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true
                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                    autoplay: {
                        delay: 5000,
                    },
                    threshold: 10
                })

                gsap.registerPlugin(ScrollTrigger);
                gsap.from('.carousel-container', {
                    scrollTrigger: {
                        trigger: '.carousel-container',
                        toggleActions: 'play none none none'
                    },
                    y: 50,
                    duration: 1
                })
            </script>


            <!-- The first statistics : the number of the people with disability -->
            <div class="overlay">
                <div class="stat">
                    <div class="title">
                        <div class="number_container">
                            <div class="numbers">
                                <span class="number">5</span><span class="percentage">%</span>
                            </div>
                        </div>
                        <div class="headline">
                            <div class="text1">
                                20명 중 1명
                            </div>
                            <div class="text2">
                                우리나라의 장애인 추정수는 2,668,411명, 전체 인구의 약 5%
                            </div>
                        </div>
                    </div>
                    <div class="pict_container">
                        <div class="pictogram">
                            <div class="hover_icon" id="hover_icon1">
                                <div class="arrow"></div>
                                <div class="background" data-index="1">
                                    <div class="color_box_hover">

                                    </div>
                                    <div class="label_hover">
                                        장애를 가진 사람: 5.39%
                                    </div>
                                </div>
                            </div>
                            <div class="hover_icon" id="hover_icon2">
                                <div class="arrow"></div>
                                <div class="background" data-index="2">
                                    <div class="color_box_hover">
                                    </div>
                                    <div class="label_hover">
                                        장애를 가지지 않은 사람: 94.61%
                                    </div>
                                </div>
                            </div>
                            <div class="pictogram_controls">
                                <div class="control" data-index="1">
                                    <div class="color_box">

                                    </div>
                                    <div class="label">
                                        장애를 가진 사람
                                    </div>
                                </div>
                                <div class="control" data-index="2">
                                    <div class="color_box">

                                    </div>
                                    <div class="label">
                                        장애를 가지지 않은 사람
                                    </div>
                                </div>
                            </div>
                            <div class="img_people">
                                <img class="img_person img_person1" src="pics/human1.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                            </div>
                            <div class="img_people">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                                <img class="img_person img_person2" src="pics/human2.svg" alt="사람">
                            </div>
                        </div>
                    </div>
                    <div class="source">
                        <span>
                            자료 출처 : 2017년 장애인 실태조사
                        </span>
                    </div>
                    <div class="comment">
                        우리 모두 함께 살아가고 있습니다. 보이지 않는다고 해서 없다고 생각하는 것은 편견이 될 수 있습니다.
                    </div>
                </div>
            </div>

            <!-- Second Statistic : the cause of the disability -->
            <div class="overlay">
                <div class="stat">
                    <div class="title">
                        <div class="number_container">
                            <div class="numbers">
                                <span class="number">9</span><span class="percentage">명</span>
                            </div>
                        </div>
                        <div class="headline">
                            <div class="text1">
                                10명 중 9명
                            </div>
                            <div class="text2">
                                장애 원인 중, 88.1%는 후천적 원인
                            </div>
                        </div>
                    </div>
                    <div class="pict_container">
                        <div class="pictogram">
                            <canvas id="chart1"></canvas>
                            <script>
                                let chart = new Chart(document.getElementById('chart1').getContext('2d'), getChartArguments()[0].chartConfig);
                            </script>
                        </div>
                    </div>
                    <div class="source">
                        <span>
                            자료 출처 : 2017년 장애인 실태조사
                        </span>
                    </div>
                    <div class="comment">
                        장애는 후천적인 원인이 훨씬 많습니다. 장애는 누구나 언제든 얻게 될 수 있습니다. 장애를 특별한 것이라고 바라보는 자세는 차별의 시선이 될 수 있습니다.
                    </div>
                </div>
            </div>

            <!-- The third statistics -->
            <div class="overlay">
                <div class="stat">
                    <div class="title">
                        <div class="number_container">
                            <div class="numbers">
                                <span class="number small">60.7</span><span class="percentage small">%</span>
                            </div>
                        </div>
                        <div class="headline">
                            <div class="text1">
                                절반 이상이 잘 알지 못합니다.
                            </div>
                            <div class="text2">
                                '모른다'라고 답한 비율, 60.7%
                            </div>
                        </div>
                    </div>
                    <div class="pict_container">
                        <div class="pictogram">
                            <canvas id="chart2"></canvas>
                            <script>
                                let chart2 = new Chart(document.getElementById('chart2').getContext('2d'), chartArguments[1].chartConfig);
                            </script>
                        </div>
                    </div>
                    <div class="source">
                        <span>
                            자료 출처 : 2017년 장애인 실태조사
                        </span>
                    </div>
                    <div class="comment">
                        2008년에 제정된 장애인 차별 금지법은 제정된지 13년이 지났습니다.
                        아직 장애인분들 중에서도 이 법에 대해서 잘 모르시는 분들이 많습니다.
                    </div>
                </div>
            </div>

            <!-- The Fourth statistic -->
            <div class="overlay">
                <div class="stat">
                    <div class="title">
                        <div class="number_container">
                            <div class="numbers">
                                <span class="number small">48.9</span><span class="percentage small">%</span>
                            </div>
                        </div>
                        <div class="headline">
                            <div class="text1">
                                우리나라의 장애 유형은 15가지
                            </div>
                            <div class="text2">
                                장애 유형별 중 지체 장애의 구성비, 48.9%
                            </div>
                        </div>
                    </div>
                    <div class="pict_container">
                        <div class="pictogram">
                            <canvas id="chart3"></canvas>
                            <script>
                                let chart3 = new Chart(document.getElementById('chart3').getContext('2d'), chartArguments[2].chartConfig);
                            </script>
                        </div>
                    </div>
                    <div class="source">
                        <span>
                            자료 출처 : 2017년 장애인 실태조사
                        </span>
                    </div>
                    <div class="comment">
                        우리나라의 장애 유형은 15가지로 나뉘어 집니다. 또한, 그중에 가장 많은 비율을 차지하는 장애 유형은 지체장애입니다.
                    </div>
                </div>
            </div>

            <!-- The fifth statistic -->
            <div class="overlay">
                <div class="stat">
                    <div class="title">
                        <div class="number_container">
                            <div class="numbers">
                                <span class="number">15</span><span class="percentage">배</span>
                            </div>
                        </div>
                        <div class="headline">
                            <div class="text1">
                                장애가 범죄의 원인이 될 수는 없습니다.
                            </div>
                            <div class="text2">
                                정신 장애인의 범죄율, 0.08%
                            </div>
                        </div>
                    </div>
                    <div class="pict_container">
                        <div class="pictogram">
                            <canvas id="chart4"></canvas>
                            <script>
                                let chart4 = new Chart(document.getElementById('chart4').getContext('2d'), chartArguments[3].chartConfig);
                            </script>
                        </div>
                    </div>
                    <div class="source">
                        <span>
                            자료 출처 : 2017년 대검찰청 범죄분석 보고서
                        </span>
                    </div>
                    <div class="comment">
                        장애가 범죄의 원인이 될 순 없습니다. 장애인이 범죄를 일으켰다고 해서 장애인은 범죄자라는 인식을 가져선 안됩니다. 통계적으로도 비장애인의 범죄율이 정신장애인의 범죄율보다
                        15배
                        높다고
                        조사되었습니다.
                    </div>
                </div>
            </div>

            <div class="btn-container" id="btn-after-test">
                <button type="button" class="btn btn-lg" id="toAfterTest">테스트 보러가기</button>
            </div>
        </div>
        <script>
            let overlay = gsap.utils.toArray('.overlay');
            overlay.forEach((ol, i) => {
                ol.dataset.colorIndex = i;

                gsap.from(ol, {
                    scrollTrigger: {
                        trigger: ol,
                        toggleActions: 'play reset play reset',
                        scroller: '.main_middle'
                    },
                    x: 50 * Math.pow(-1, i),
                    duration: 0.7
                })
            })
        </script>
    </div>


    <!-- 인식개선 테스트 div -->
    <div class="main after_test test">
        <div class="swiper-container test-container" id="after-test-container">
            <form name="after" class="swiper-wrapper">
                <div class="Q1 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #1</h3>
                        <span>정답을 골라보세요.</span>
                        <div class="QS">
                            장애를 가진 사람이라는 의미의<br>단어로서 옳은 표현은 무엇일까요?
                        </div>
                        <input type="checkbox" name="answer1" value="장애자" onclick='checkOnlyOne(this)'
                            id="after-1-1"><label for="after-1-1"> 장애자</label>
                        <input type="checkbox" name="answer1" value="장애인" onclick='checkOnlyOne(this)'
                            id="after-1-2"><label for="after-1-2"> 장애인</label>
                        <input type="checkbox" name="answer1" value="장애우" onclick='checkOnlyOne(this)'
                            id="after-1-3"><label for="after-1-3"> 장애우</label>
                        <input type="checkbox" name="answer1" value="불구자" onclick='checkOnlyOne(this)'
                            id="after-1-4"><label for="after-1-4"> 불구자</label>
                    </div>
                </div>

                <div class="Q2 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #2</h3>
                        <span>정답을 골라보세요.</span>
                        <div class="QS">
                            대한민국 전체인구 중 장애인의<br>비율은 몇 %일까요?
                        </div>
                        <input type="checkbox" name="answer2" value="1.5%" onclick='checkOnlyOne(this)'
                            id="after-2-1"><label for="after-2-1"> 1.5 %</label>
                        <input type="checkbox" name="answer2" value="3%" onclick='checkOnlyOne(this)'
                            id="after-2-2"><label for="after-2-2"> 3 %</label>
                        <input type="checkbox" name="answer2" value="5%" onclick='checkOnlyOne(this)'
                            id="after-2-3"><label for="after-2-3"> 5 %</label>
                        <input type="checkbox" name="answer2" value="9%" onclick='checkOnlyOne(this)'
                            id="after-2-4"><label for="after-2-4"> 9 %</label>
                        <input type="checkbox" name="answer2" value="11%" onclick='checkOnlyOne(this)'
                            id="after-2-5"><label for="after-2-5">11 %</label>
                    </div>
                </div>

                <div class="Q3 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #3</h3>
                        <span>정답을 골라보세요.</span>
                        <div class="QS">
                            우리나라의 전체 장애인 중,<br>사고나 질환 등의 후천적인 원인으로<br>
                            장애가 발생한 비율은 10명 중,<br> "?"명 꼴입니다.
                        </div>
                        <label for="after-3-1"><input type="checkbox" name="answer3" value="2"
                                onclick='checkOnlyOne(this)' id="after-3-1"> 2 명</label>
                        <label for="after-3-2"><input type="checkbox" name="answer3" value="4"
                                onclick='checkOnlyOne(this)' id="after-3-2"> 4 명</label>
                        <label for="after-3-3"><input type="checkbox" name="answer3" value="6"
                                onclick='checkOnlyOne(this)' id="after-3-3"> 6 명</label>
                        <label for="after-3-4"><input type="checkbox" name="answer3" value="8"
                                onclick='checkOnlyOne(this)' id="after-3-4"> 8 명</label>
                        <label for="after-3-5"><input type="checkbox" name="answer3" value="9"
                                onclick='checkOnlyOne(this)' id="after-3-5"> 9 명</label>
                    </div>
                </div>

                <div class="Q4 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #4</h3>
                        <span>O / X 문제입니다.</span>
                        <div class="QS">
                            뇌병변 장애인은 지능이 낮다.
                        </div>
                        <label for="after-4-1"><input type="checkbox" name="answer4" value="O"
                                onclick='checkOnlyOne(this)' id="after-4-1"> O </label>
                        <label for="after-4-2"><input type="checkbox" name="answer4" value="X"
                                onclick='checkOnlyOne(this)' id="after-4-2"> X </label>
                    </div>
                </div>

                <div class="Q5 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #5</h3>
                        <span>정답을 골라보세요.</span>
                        <div class="QS">
                            우리나라에 등록된 장애 유형 중<br>가장 높은 비율을 차지하고 있는<br>
                            유형은 무엇일까요?
                        </div>
                        <label for="after-5-1"><input type="checkbox" name="answer5" value="지체장애"
                                onclick='checkOnlyOne(this)' id="after-5-1"> 지체장애</label>
                        <label for="after-5-2"><input type="checkbox" name="answer5" value="시각장애"
                                onclick='checkOnlyOne(this)' id="after-5-2"> 시각장애</label>
                        <label for="after-5-3"><input type="checkbox" name="answer5" value="심장장애"
                                onclick='checkOnlyOne(this)' id="after-5-3"> 심장장애</label>
                        <label for="after-5-4"><input type="checkbox" name="answer5" value="지적장애"
                                onclick='checkOnlyOne(this)' id="after-5-4"> 지적장애</label>
                    </div>
                </div>

                <div class="Q6 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #6</h3>
                        <span>정답을 골라보세요.</span>
                        <div class="QS">
                            장애인 차별 금지법은<br>
                            언제 제정되었을까요?

                        </div>
                        <label for="after-6-1"><input type="checkbox" name="answer6" value="1988"
                                onclick='checkOnlyOne(this)' id="after-6-1"> 1988년</label>
                        <label for="after-6-2"><input type="checkbox" name="answer6" value="2007"
                                onclick='checkOnlyOne(this)' id="after-6-2"> 2007년</label>
                        <label for="after-6-3"><input type="checkbox" name="answer6" value="2016"
                                onclick='checkOnlyOne(this)' id="after-6-3"> 2016년</label>
                        <label for="after-6-4"><input type="checkbox" name="answer6" value="2008"
                                onclick='checkOnlyOne(this)' id="after-6-4"> 2008년</label>
                    </div>
                </div>

                <div class="Q7 swiper-slide question-slide">
                    <div class="question-container">
                        <h3>Question #7</h3>
                        <span>O / X 문제입니다.</span>
                        <div class="QS">
                            정신장애인은 범죄자가 될 확률이 높다.
                        </div>

                        <label for="after-7-1"><input type="checkbox" name="answer7" value="O"
                                onclick='checkOnlyOne(this)' id="after-7-1"> O </label>
                        <label for="after-7-2"><input type="checkbox" name="answer7" value="X"
                                onclick='checkOnlyOne(this)' id="after-7-2"> X </label>
                        <button type="button" class="btn btn-submit btn-lg" id="submitAfterTest"
                            onclick="submitAfter()">제출하기</button>

                    </div>
                </div>

            </form>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>
        <div class="result-container" id="afterResult">
            <div class="swiper-slide question-slide result">
                <div class="question-container">
                    <h3>Result</h3>
                    <span>테스트 결과입니다.</span>
                    <div class="QS">
                        맞은 문제 : <br>
                        틀린 문제 :
                    </div>
                    <button type="button" class="btn btn-submit btn-lg" id="transTomainBottom">이동하기</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        checkSubmitTest();
        // test-swiper
        const afterTest = new Swiper('#after-test-container', {
            // Optional parameters
            direction: 'horizontal',
            pagination: {
                el: '.swiper-pagination',
                clickable: true
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            keyboard: {
                enabled: true,
                onlyInViewport: true,
            },
            threshold: 10
        })
    </script>


    <div class="main main_bottom" id="main_bottom">
        <h1 style="display:inline-block">Main_Bottom</h1>
        <div class="score_chart">
            <div class="beforeChart">
                <canvas id="beforeChart">
                    <p>Feedback Chart1-1</p>
                </canvas>
            </div>
            <div class="afterChart">
                <canvas id="afterChart">
                    <p>Feedback Chart1-2</p>
                </canvas>
            </div>
        </div>
        <div class="increase_chart">
            <canvas id="increaseChart">
                <p>Feedback Chart2</p>
            </canvas>
        </div>
        
        <!-- 회전초밥 div -->
        <div class="owl-carousel owl-theme owl-loaded">
            <div class="item">
                <a href="https://www.youtube.com/watch?v=CdFqM5fekqI">
                    <img src="https://img.youtube.com/vi/CdFqM5fekqI/maxresdefault.jpg"></a>
            </div>
            <div class="item">
                <a href="https://www.youtube.com/watch?v=XN2OC9UVVuA">
                    <img src="https://img.youtube.com/vi/XN2OC9UVVuA/maxresdefault.jpg"></a>
            </div>
            <div class="item">
                <a href="https://www.youtube.com/watch?v=LS4WS7V0Y_A">
                    <img src="https://img.youtube.com/vi/LS4WS7V0Y_A/maxresdefault.jpg"></a>
            </div>
            <div class="item">
                <a href="https://www.youtube.com/watch?v=MCZqR2VCP28">
                    <img src="https://img.youtube.com/vi/MCZqR2VCP28/maxresdefault.jpg"></a>
            </div>
            <div class="item">
                <a href="https://www.youtube.com/watch?v=REpjJyKifms">
                    <img src="https://img.youtube.com/vi/REpjJyKifms/maxresdefault.jpg"></a>
            </div>
            <div class="item">
                <a href="https://www.youtube.com/watch?v=5gc4y9ExmHw">
                    <img src="https://img.youtube.com/vi/5gc4y9ExmHw/maxresdefault.jpg"></a>
            </div>
            <div class="item">
                <a href="https://www.youtube.com/watch?v=kJrRzI0Tm80">
                    <img src="https://img.youtube.com/vi/kJrRzI0Tm80/maxresdefault.jpg"></a>
            </div>
        </div>
    </div>
    <script src="./owlcarousel/owl.carousel.min.js"></script>
    <script type="text/javascript">
        var owl = $('.owl-carousel');
        owl.owlCarousel({
            items: 4,
            loop: true,
            margin: 10,
            video: true,
            autoplay: true,
            autoplayTimeout: 3000,
            autoplayHoverPause: true
        });
        console.log(owl);

        $('.owl-carousel').owlCarousel();
        // $(document).ready(function () {
        //     $('.owl-carousel').owlCarousel();
        // });
    </script>


    <script src="./script/chartUtil.js"></script>
    <script src="./script/pageTransition.js"></script>
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    <script type="text/javascript">
        function checkOnlyOne(element) { //체크박스 한 개만 선택되도록 하는 함수
            var formN = element.name;
            var checkboxes = document.getElementsByName(formN);
            checkboxes.forEach((cb) => {
                cb.checked = false;
            })
            element.checked = true;
            // console.log(element.value);
        }

        //before test form 제출 시, 호출되는 함수
        function submitBefore() {
            $('#before-test-container').hide();
            $('#beforeResult').show();

            //serialize: form 태그내의 항목들을 자동으로 읽어와 queryString 형식으로 변환
            var queryString = $("form[name=before]").serialize();
            $.ajax({
                type: 'post',
                url: '/before',
                data: queryString,
                dataType: 'json',
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }

        //after test form 제출 시, 호출되는 함수
        function submitAfter() {
            $('#after-test-container').hide();
            $('#afterResult').show();

            var queryString = $("form[name=after]").serialize();
            $.ajax({
                type: 'post',
                url: '/after',
                data: queryString,
                dataType: 'json',
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }
    </script>

    <!-- socket communication -->
    <!-- socket.io -->
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var count;
        var score;
        var socket = io();
        //이미 before, after test 모두 제출한 경우
        socket.on('alreadyAll', function (data) {
            alert("이미 모든 테스트를 제출하셨습니다!");
            console.log(data);
        });
        //before 테스트를 정상적으로 제출한 경우
        socket.on('completeBefore', function () {
            alert("정상적으로 제출되었습니다!");
        });
        //이미 before test를 제출한 경우
        socket.on('alreadyBefore', function () {
            alert("이미 제출하셨습니다!");
        });
        //before test를 제출하지 않고, after test를 제출하려 한 경우
        socket.on('goBefore', function () {
            alert("서비스 초기에 보여진 테스트를 먼저 제출해주세요!");
        });
        //after 테스트를 정상적으로 제출한 경우
        socket.on('completeAfter', function (result) {
            alert("정상적으로 제출되었습니다!");
            console.log(result);
            count = result.Count.count;
            score = result.Score;
            //feedback chart
            var beforeCtx = document.getElementById('beforeChart').getContext('2d');
            var afterCtx = document.getElementById('afterChart').getContext('2d');
            var increaseCtx = document.getElementById('increaseChart').getContext('2d');
            var beforeChart = new Chart(beforeCtx, getChart(score, count)[0]);
            var afterChart = new Chart(afterCtx, getChart(score, count)[1]);
            var increaseChart = new Chart(increaseCtx, getChart(score, count)[2]);
        });

        function getChart(score, count){
            return [
                {
                    type: 'line',
                    data: {
                        labels: [0, 1, 2, 3, 4, 5, 6, 7],
                        datasets: [{
                            label: '점수 분포 - 서비스 이용 전',
                            data: [score.b0, score.b1, score.b2, score.b3, score.b4, score.b5, score.b6, score.b7],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                },

                {
                    type: 'line',
                    data: {
                        labels: [0, 1, 2, 3, 4, 5, 6, 7],
                        datasets: [{
                            label: '점수 분포 - 서비스 이용 후',
                            data: [score.a0, score.a1, score.a2, score.a3, score.a4, score.a5, score.a6, score.a7],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(255, 206, 86, 1)',
                                'rgba(75, 192, 192, 1)',
                                'rgba(153, 102, 255, 1)',
                                'rgba(255, 159, 64, 1)',
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                },

                {
                    type: 'pie',
                    data: {
                        labels: ["상승", "하락"],
                        datasets: [{
                            label:'서비스 이용 후, 점수 상승률',
                            data: [score.increase, (count - score.increase)],
                            backgroundColor: [
                                "#48C9B0", "#E5E7E9"
                            ]
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                }
            ]
        }

        //main bottom에서 새로고침 시, 서버에서 넘겨준 db data로 chart 생성
        $(function(){
            var Count = JSON.parse('<%-JSON.stringify(Count)%>');
            var Score = JSON.parse('<%-JSON.stringify(Score)%>');
            //feedback chart
            var beforeCtx = document.getElementById('beforeChart').getContext('2d');
            var afterCtx = document.getElementById('afterChart').getContext('2d');
            var increaseCtx = document.getElementById('increaseChart').getContext('2d');
            var beforeChart = new Chart(beforeCtx, getChart(Score, Count.count)[0]);
            var afterChart = new Chart(afterCtx, getChart(Score, Count.count)[1]);
            var increaseChart = new Chart(increaseCtx, getChart(Score, Count.count)[2]);
        })
    </script>
</body>

</html>